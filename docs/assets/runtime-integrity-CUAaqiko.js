import{_ as p}from"./index-cknVBJi3.js";const v=(t,e,s)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((c,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};async function g(t){const e=[];let s;try{s=(await v(Object.assign({"../assets/usa-regions.svg":()=>p(()=>import("./usa-regions-so9IStg1.js"),[])}),`../assets/${t.mapId}.svg`,3)).default}catch(a){const i=a;return e.push(`Failed to load SVG asset "${t.mapId}.svg": ${i.message}`),{valid:!1,errors:e}}const r=await h(s);r!==t.mapAssetHash&&e.push(`SVG hash mismatch - deployment artifact error detected!\\nExpected: ${t.mapAssetHash}\\nActual:   ${r}\\n\\nThis indicates the SVG file and config are out of sync.\\nPossible causes:\\n  - Config not updated after SVG changes\\n  - Mixed artifacts from different builds\\n  - Build transform changed SVG content\\n\\nRemediation: Run 'npm run generate:map-hash' to update config`);const n=new DOMParser().parseFromString(s,"image/svg+xml"),u=n.querySelector("svg");if(!u)return e.push("No <svg> element found in SVG content"),{valid:!1,errors:e};const d=n.querySelector("parsererror");if(d)return e.push(`SVG parse error: ${d.textContent}`),{valid:!1,errors:e};const o=u.getAttribute("viewBox");if(o){const[a,i,l,m]=o.split(/\\s+/).map(Number);(a!==t.viewBox.x||i!==t.viewBox.y||l!==t.viewBox.width||m!==t.viewBox.height)&&e.push(`ViewBox mismatch!\\nConfig: ${JSON.stringify(t.viewBox)}\\nSVG:    ${o}\\n\\nRemediation: Update config.viewBox to match SVG, or vice versa`)}else e.push("SVG missing viewBox attribute");return{valid:e.length===0,errors:e}}async function h(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}export{g as verifyRuntimeIntegrity};

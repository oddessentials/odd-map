:root{--color-primary: #003366;--color-primary-light: #004488;--color-primary-dark: #002244;--color-accent: #0066cc;--color-accent-light: #0088ee;--color-accent-dark: #004499;--color-text: #333333;--color-text-muted: #666666;--color-text-light: #999999;--color-text-inverse: #ffffff;--color-bg: #ffffff;--color-bg-alt: #f5f5f5;--color-bg-dark: #e8e8e8;--color-bg-overlay: rgba(0, 51, 102, .95);--color-border: #dddddd;--color-border-light: #eeeeee;--color-border-dark: #cccccc;--color-success: #28a745;--color-warning: #ffc107;--color-error: #dc3545;--color-info: #17a2b8;--color-region-northeast-region: #1a5276;--color-region-southeast-region: #196f3d;--color-region-south-region: #b9770e;--color-region-southern-california: #7d3c98;--color-region-west-region: #2874a6;--color-region-midwest-region: #a04000;--font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--font-mono: "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem;--text-4xl: 2.25rem;--font-normal: 400;--font-medium: 500;--font-semibold: 600;--font-bold: 700;--leading-tight: 1.25;--leading-normal: 1.5;--leading-relaxed: 1.75;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--space-16: 4rem;--radius-sm: .25rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-full: 9999px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .1);--shadow-xl: 0 20px 25px rgba(0, 0, 0, .15);--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .35s ease;--transition-zoom: .5s cubic-bezier(.4, 0, .2, 1);--z-base: 0;--z-map: 10;--z-markers: 20;--z-panel: 30;--z-header: 40;--z-modal: 50;--z-tooltip: 60;--header-height: 64px;--panel-width: 400px;--panel-width-mobile: 100%;--footer-height: 48px;--logo-url: none;--logo-width: 160px;--logo-height: 40px}@media(max-width:768px){:root{--panel-width: 100%;--header-height: 48px}}*,*:before,*:after{box-sizing:border-box}*{margin:0;padding:0}html{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4}body{font-family:var(--font-sans);font-size:var(--text-base);line-height:var(--leading-normal);color:var(--color-text);background-color:var(--color-bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-weight:var(--font-semibold);line-height:var(--leading-tight);color:var(--color-primary)}h1{font-size:var(--text-4xl)}h2{font-size:var(--text-3xl)}h3{font-size:var(--text-2xl)}h4{font-size:var(--text-xl)}h5{font-size:var(--text-lg)}h6{font-size:var(--text-base)}p{margin-bottom:var(--space-4)}a{color:var(--color-accent);text-decoration:none;transition:color var(--transition-fast)}a:hover{color:var(--color-accent-dark);text-decoration:underline}a:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}ul,ol{padding-left:var(--space-6)}li{margin-bottom:var(--space-2)}button{font-family:inherit;font-size:inherit;cursor:pointer;border:none;background:none}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);font-weight:var(--font-medium);border-radius:var(--radius-md);transition:all var(--transition-fast)}.btn-primary{background-color:var(--color-primary);color:var(--color-text-inverse)}.btn-primary:hover{background-color:var(--color-primary-light)}.btn-secondary{background-color:var(--color-bg-alt);color:var(--color-text);border:1px solid var(--color-border)}.btn-secondary:hover{background-color:var(--color-bg-dark)}.btn-accent{background-color:var(--color-accent);color:var(--color-text-inverse)}.btn-accent:hover{background-color:var(--color-accent-dark)}:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}:focus:not(:focus-visible){outline:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.text-muted{color:var(--color-text-muted)}.text-light{color:var(--color-text-light)}.text-center{text-align:center}.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:var(--space-2)}.gap-4{gap:var(--space-4)}.loading-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:var(--color-bg);z-index:var(--z-modal);transition:opacity var(--transition-slow)}.loading-spinner{width:48px;height:48px;border:4px solid var(--color-border);border-top-color:var(--color-accent);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--color-bg-alt)}::-webkit-scrollbar-thumb{background:var(--color-border-dark);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--color-text-light)}html,body{height:100%}body{display:flex;flex-direction:column;min-height:100vh;overflow-x:hidden}.header{position:sticky;top:0;height:var(--header-height);background:var(--color-primary);color:var(--color-text-inverse);z-index:var(--z-header);box-shadow:var(--shadow-md)}.header-inner{display:flex;align-items:center;justify-content:space-between;height:100%;max-width:1600px;margin:0 auto;padding:0 var(--space-4);gap:var(--space-4)}.main{flex:1;display:flex;flex-direction:column}.layout{flex:1;display:grid;grid-template-columns:280px 1fr 400px;grid-template-rows:1fr;min-height:500px}.footer{background:var(--color-bg-alt);border-top:1px solid var(--color-border);padding:var(--space-4) var(--space-6)}.footer-inner{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:var(--space-4);max-width:1600px;margin:0 auto}.logo-container{flex-shrink:0}.logo-placeholder{display:flex;flex-direction:column;align-items:flex-start}.logo-text{font-size:var(--text-2xl);font-weight:var(--font-bold);line-height:1}.logo-tagline{font-size:var(--text-xs);opacity:.8}.breadcrumb{flex:1;text-align:center}.breadcrumb-text{font-size:var(--text-sm);opacity:.9}.reset-btn{flex-shrink:0;color:var(--color-text-inverse);border-color:#fff9;background:#ffffff1a}.reset-btn:hover{background:#fff3;border-color:#fffc}.map-toggle{flex-shrink:0;min-width:48px;color:var(--color-text-inverse);border-color:#fff9;background:#ffffff1a;font-weight:var(--font-bold);transition:all var(--transition-fast)}.map-toggle:hover:not(:disabled){background:#fff3;border-color:#fffc;transform:scale(1.05)}.map-toggle:disabled,#map-toggle:disabled{opacity:.5;cursor:not-allowed}.spin-toggle[hidden]{display:none}.spin-toggle{flex-shrink:0;min-width:48px;color:var(--color-text-inverse);border-color:#fff9;background:#ffffff1a;font-weight:var(--font-bold);font-size:1.25rem;transition:all var(--transition-fast)}.spin-toggle:hover:not(:disabled){background:#fff3;border-color:#fffc;transform:scale(1.05)}.spin-toggle.active{background:var(--color-accent);border-color:var(--color-accent)}.spin-toggle.active:hover:not(:disabled){background:var(--color-accent-hover);border-color:var(--color-accent-hover)}.sidebar{background:var(--color-bg);border:1px solid var(--color-border);overflow-y:auto}.sidebar-left{border-right:1px solid var(--color-border);padding:var(--space-4)}.sidebar-right{border-left:1px solid var(--color-border);padding:var(--space-4)}.map-section{position:relative;background:var(--color-bg-alt);overflow:hidden}.map-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;touch-action:manipulation}.map-container svg{width:100%;height:100%;max-width:100%;max-height:100%}.region-nav-title{font-size:var(--text-lg);margin-bottom:var(--space-4);color:var(--color-primary)}.region-list{list-style:none;padding:0}.region-list-item{margin-bottom:var(--space-2)}.region-btn{width:100%;display:flex;flex-direction:column;align-items:flex-start;padding:var(--space-3) var(--space-4);background:var(--color-bg-alt);border:1px solid var(--color-border);border-radius:var(--radius-md);transition:all var(--transition-fast)}.region-btn:hover{background:var(--color-primary);color:var(--color-text-inverse);border-color:var(--color-primary)}.region-list-item.expanded .region-btn{background:var(--color-primary);color:var(--color-text-inverse);border-color:var(--color-primary);border-radius:var(--radius-md) var(--radius-md) 0 0}.region-name{font-weight:var(--font-semibold)}.region-count{font-size:var(--text-sm);opacity:.7}.office-sublist{list-style:none;padding:0;background:var(--color-bg);border:1px solid var(--color-primary);border-top:none;border-radius:0 0 var(--radius-md) var(--radius-md)}.office-subitem{border-bottom:1px solid var(--color-border-light)}.office-subitem:last-child{border-bottom:none}.office-subbtn{width:100%;display:flex;justify-content:space-between;align-items:center;padding:var(--space-2) var(--space-4);text-align:left;transition:background var(--transition-fast)}.office-subbtn:hover{background:var(--color-bg-alt)}.office-subitem.selected .office-subbtn{background:var(--color-accent);color:var(--color-text-inverse)}.office-city{font-weight:var(--font-medium)}.office-type{font-size:var(--text-xs);opacity:.7}.panel-content{display:flex;flex-direction:column;height:100%}.panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-4);padding-bottom:var(--space-3);border-bottom:1px solid var(--color-border)}.panel-title{font-size:var(--text-xl);color:var(--color-primary)}.panel-close{padding:var(--space-1) var(--space-2);font-size:var(--text-xl);line-height:1}.panel-body{flex:1;overflow-y:auto}.panel-placeholder{color:var(--color-text-muted);text-align:center;padding:var(--space-8) var(--space-4)}.region-manager{margin-bottom:var(--space-6)}.region-manager h3{font-size:var(--text-sm);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-3)}.contact-card{background:var(--color-bg-alt);padding:var(--space-4);border-radius:var(--radius-md);margin-bottom:var(--space-3)}.contact-name{font-weight:var(--font-semibold);color:var(--color-primary)}.contact-title{font-size:var(--text-sm);color:var(--color-text-muted);margin-bottom:var(--space-2)}.contact-phone,.contact-email{font-size:var(--text-sm)}.contact-phone a,.contact-email a{color:var(--color-accent)}.office-list h3{font-size:var(--text-sm);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-3)}.office-items{list-style:none;padding:0}.office-item{margin-bottom:var(--space-2)}.office-btn{width:100%;display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto;gap:var(--space-1);padding:var(--space-3);background:var(--color-bg-alt);border:1px solid var(--color-border);border-radius:var(--radius-md);text-align:left;transition:all var(--transition-fast)}.office-btn:hover{border-color:var(--color-accent);box-shadow:var(--shadow-sm)}.office-btn .office-city{grid-column:1;grid-row:1}.office-btn .office-code{grid-column:2;grid-row:1;font-size:var(--text-xs);color:var(--color-text-light)}.office-btn .office-type{grid-column:1 / -1;grid-row:2;font-size:var(--text-xs);color:var(--color-text-muted)}.office-details{display:flex;flex-direction:column;gap:var(--space-4)}.office-logo-slot{background:var(--color-primary);color:var(--color-text-inverse);padding:var(--space-4);border-radius:var(--radius-md);text-align:center}.office-logo-slot .logo-placeholder{font-size:var(--text-2xl);font-weight:var(--font-bold)}.office-header{display:flex;gap:var(--space-2)}.office-code-badge{background:var(--color-primary);color:var(--color-text-inverse);padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm);font-size:var(--text-sm);font-weight:var(--font-semibold)}.office-type-badge{background:var(--color-bg-alt);padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm);font-size:var(--text-sm)}.office-type-badge.satellite{background:var(--color-warning);color:#333}.office-address h4,.office-contact h4{font-size:var(--text-sm);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-2)}.office-address address{font-style:normal;margin-bottom:var(--space-3)}.no-address{color:var(--color-text-muted);font-style:italic}.coord-warning{background:var(--color-bg-alt);padding:var(--space-2);border-radius:var(--radius-sm);font-size:var(--text-xs);color:var(--color-text-muted)}.mini-map-container{margin-top:var(--space-4);border-radius:var(--radius-md);overflow:hidden;box-shadow:var(--shadow-md);aspect-ratio:16 / 10;background:var(--color-bg-alt)}.mini-map-embed{width:100%;height:100%;border:none;display:block}.specialty-section{background:var(--color-bg);border-top:1px solid var(--color-border);padding:var(--space-6)}.specialty-panel{max-width:1200px;margin:0 auto}.specialty-panel-title{font-size:var(--text-2xl);text-align:center;margin-bottom:var(--space-2)}.specialty-panel-desc{text-align:center;color:var(--color-text-muted);margin-bottom:var(--space-6)}.specialty-accordion{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--space-4)}.accordion-item{background:var(--color-bg-alt);border-radius:var(--radius-md);overflow:hidden}.accordion-header{width:100%;display:flex;align-items:center;gap:var(--space-3);padding:var(--space-4);text-align:left;transition:background var(--transition-fast)}.accordion-header:hover{background:var(--color-bg-dark)}.accordion-item.open .accordion-header{background:var(--color-primary);color:var(--color-text-inverse)}.accordion-title{flex:1;font-weight:var(--font-semibold)}.accordion-count{font-size:var(--text-sm);opacity:.7}.accordion-icon{transition:transform var(--transition-fast)}.accordion-item.open .accordion-icon{transform:rotate(180deg)}.accordion-content{padding:var(--space-4);border-top:1px solid var(--color-border)}.personnel-list{display:flex;flex-direction:column;gap:var(--space-3)}.personnel-card{background:var(--color-bg);padding:var(--space-3);border-radius:var(--radius-sm)}.personnel-name{font-weight:var(--font-semibold);color:var(--color-primary)}.personnel-title{font-size:var(--text-sm);color:var(--color-text-muted);margin-bottom:var(--space-2)}.personnel-contact{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-2)}.contact-link{font-size:var(--text-sm)}.footer-contact{display:flex;align-items:center;gap:var(--space-3);flex-wrap:wrap}.footer-label{font-weight:var(--font-semibold);color:var(--color-primary)}.footer-phone,.footer-email{font-size:var(--text-sm)}.footer-links{display:flex;gap:var(--space-4)}.footer-links a{font-size:var(--text-sm)}.footer-copyright{font-size:var(--text-sm);color:var(--color-text-muted)}.loading-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:var(--color-bg);z-index:9999;transition:opacity var(--transition-slow)}.loading-screen.fade-out{opacity:0;pointer-events:none}.loading-content{display:flex;flex-direction:column;align-items:center;gap:var(--space-4)}.loading-logo{font-size:var(--text-4xl);font-weight:var(--font-bold);color:var(--color-primary)}.loading-text{color:var(--color-text-muted)}@media(max-width:1024px){.layout{grid-template-columns:240px 1fr 320px}}@media(max-width:768px){.layout{display:flex;flex-direction:column;min-height:0}.sidebar-left{order:0;flex-shrink:0;border-right:none;border-bottom:1px solid var(--color-border);padding:var(--space-2) var(--space-3);overflow-y:visible}.logo-tagline,.sidebar-left .region-nav-title{display:none}.sidebar-left .region-list{display:flex;flex-wrap:wrap;gap:var(--space-1)}.sidebar-left .region-list-item{margin-bottom:0}.sidebar-left .region-btn{flex-direction:row;align-items:center;padding:var(--space-1) var(--space-3);font-size:var(--text-sm);border-radius:var(--radius-full);gap:var(--space-1)}.sidebar-left .region-count{font-size:var(--text-xs)}.sidebar-left .office-sublist{display:none}.map-section{order:1;flex:1;min-height:0}.sidebar-right{position:fixed;bottom:0;left:0;right:0;max-height:40vh;border-left:none;border-top:1px solid var(--color-border);border-radius:var(--radius-lg) var(--radius-lg) 0 0;box-shadow:var(--shadow-xl);z-index:var(--z-panel);transform:translateY(100%);transition:transform var(--transition-normal);overflow-y:auto;-webkit-overflow-scrolling:touch}.sidebar-right.open{transform:translateY(0)}.specialty-accordion{grid-template-columns:1fr}.footer-inner{flex-direction:column;text-align:center}}@media print{.header,.sidebar-left,.specialty-section,.footer,.reset-btn,.panel-close{display:none!important}.layout{grid-template-columns:1fr 1fr}.map-section{page-break-inside:avoid}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.map-container{animation:fadeIn var(--transition-normal) ease-out}.panel-content{animation:slideUp var(--transition-normal) ease-out}.marker{fill:var(--color-primary, #00396c);stroke:#fff;stroke-width:2;cursor:pointer;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));transition:fill .2s ease,filter .2s ease,stroke-width .2s ease;transform-origin:center bottom}.marker:hover{fill:var(--color-accent, #ff6b35);filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.marker.selected,.marker--selected{fill:var(--color-accent, #ff6b35);stroke:#fff;stroke-width:3;filter:drop-shadow(0 4px 8px rgba(255,107,53,.5))}.marker--highlighted{fill:var(--color-accent, #ff6b35);filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.marker--dimmed{opacity:.3;pointer-events:none}@keyframes pulseRing{0%{transform:scale(1);opacity:.5}to{transform:scale(2.5);opacity:0}}.marker-pulse-ring{fill:var(--color-accent, #ff6b35);opacity:0;pointer-events:none}.marker.selected+.marker-pulse-ring,.marker-pulse-ring.active{animation:pulseRing 1.5s ease-out infinite}.breadcrumb-text{transition:all var(--transition-fast)}body[data-map-mode="3d"] .map-toggle{background:var(--color-accent);border-color:var(--color-accent)}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.office-modal-overlay{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;opacity:0;transition:opacity .2s ease}.office-modal-overlay.visible{opacity:1}.office-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.95);background:var(--color-bg, #fff);border-radius:var(--radius-lg, 12px);box-shadow:0 25px 50px -12px #0006;width:min(420px,90vw);max-height:85vh;overflow-y:auto;z-index:1001;opacity:0;transition:opacity .2s ease,transform .2s ease}.office-modal.visible{opacity:1;transform:translate(-50%,-50%) scale(1)}.office-modal-header{display:flex;justify-content:space-between;align-items:center;padding:var(--space-4, 16px);border-bottom:1px solid var(--color-border, #e5e7eb)}.office-modal-header h2{font-size:var(--text-xl, 1.25rem);font-weight:var(--font-semibold, 600);color:var(--color-primary, #00396c);margin:0}.office-modal-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;background:transparent;border-radius:var(--radius-sm, 4px);color:var(--color-text-muted, #6b7280);cursor:pointer;transition:all .15s ease}.office-modal-close:hover{background:var(--color-bg-alt, #f3f4f6);color:var(--color-text, #1f2937)}.office-modal-close:focus-visible{outline:2px solid var(--color-accent, #ff6b35);outline-offset:2px}.office-modal-body{padding:var(--space-4, 16px)}.office-modal-info .office-type{color:var(--color-text-muted, #6b7280);font-size:var(--text-sm, .875rem);margin-bottom:var(--space-3, 12px)}.office-modal-info .office-address{display:flex;align-items:flex-start;gap:var(--space-2, 8px);color:var(--color-text, #1f2937);margin-bottom:var(--space-4, 16px)}.office-modal-info .office-address svg{flex-shrink:0;margin-top:2px;color:var(--color-text-muted, #6b7280)}.office-contact{background:var(--color-bg-alt, #f3f4f6);padding:var(--space-3, 12px);border-radius:var(--radius-md, 8px)}.office-contact .contact-name{font-weight:var(--font-semibold, 600);color:var(--color-primary, #00396c)}.office-contact .contact-title{font-size:var(--text-sm, .875rem);color:var(--color-text-muted, #6b7280);margin-bottom:var(--space-2, 8px)}.office-contact .contact-phone,.office-contact .contact-email{display:flex;align-items:center;gap:var(--space-2, 8px);font-size:var(--text-sm, .875rem);margin-bottom:var(--space-1, 4px)}.office-contact .contact-phone svg,.office-contact .contact-email svg{color:var(--color-text-muted, #6b7280);flex-shrink:0}.office-contact a{color:var(--color-accent, #ff6b35)}.office-contact a:hover{text-decoration:underline}.office-modal-footer{padding:var(--space-4, 16px);border-top:1px solid var(--color-border, #e5e7eb)}.directions-btn{display:flex;align-items:center;justify-content:center;gap:var(--space-2, 8px);width:100%;padding:var(--space-3, 12px);background:var(--color-primary, #00396c);color:#fff;border:none;border-radius:var(--radius-md, 8px);font-weight:var(--font-semibold, 600);text-decoration:none;cursor:pointer;transition:background .15s ease}.directions-btn:hover{background:var(--color-primary-dark, #002d54)}.directions-btn:focus-visible{outline:2px solid var(--color-accent, #ff6b35);outline-offset:2px}.map3d-tooltip{position:absolute;background:#000000d9;color:#fff;padding:6px 12px;border-radius:6px;font-size:13px;font-weight:500;pointer-events:none;opacity:0;transition:opacity .15s ease;z-index:100;white-space:nowrap;box-shadow:0 4px 12px #0000004d}
